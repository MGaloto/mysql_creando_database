---
title: "Coder House"
author: "Maximiliano Galoto"
subtitle: Avances del Proyecto Final para el Curso SQL
output:
  html_notebook:
    theme: cerulean
    toc: yes
    toc_float: yes
---


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tinytex)


# app.diagrams.net

```


# 1 - Descripcion del proyecto

 **_Temática para el trabajo final:_**

Diagrama de Entidad de Relación de una _Empresa de Medicina Prepaga_.


# 2 - Descripción de las tablas


**_Tablas, descripción y atributos:_**

A continuación se detallaran cada una de las tablas que componen el DER con sus atributos y descripciones:


| $$ \textbf{Tabla: Afiliado }$$ |
|$$ \textbf{Atributos}$$ | $$ \textbf{Descripcion}$$ | 
|-------|------------|
| $$ Id\:Afiliado$$     |   $$INT \:NOT\: NULL\: PRIMARY \:KEY\: AUTO\:INCREMENT$$         | 
| $$ Nombre$$     | $$VARCHAR(50) \:NOT \:NULL  $$         |
| $$ Apellido$$     | $$VARCHAR(50) \:NOT \:NULL  $$         | 
| $$ Email$$     | $$VARCHAR(50) \:NOT \:NULL  $$         | 
| $$ Telefono$$     | $$INT \:NOT \:NULL  $$         | 
| $$ Fecha\:Nacimiento$$     | $$DATE \:NOT \:NULL$$        | 
| $$ Domicilio$$     | $$VARCHAR(50) \:NOT \:NULL  $$            | 
| $$ Ocupacion$$     | $$VARCHAR(50) \:NOT \:NULL  $$            | 
| $$ Estado\:Civil$$     | $$VARCHAR(50) \:NOT \:NULL  $$            | 
| $$ Plan$$     | $$VARCHAR(50) \:NOT \:NULL  $$            | 

_Esta tabla contiene los atributos de los afiliados a la empresa de medicina prepaga, podemos observar el ID como Primary Key, Nombre, Apellido, Fecha de Nacimiento, Domicilio, Ocupación y Estado Civil. Estos datos salen del transaccional cuando el afiliado se da de alta en nuestro sistema. _



| $$ \textbf{Tabla: Especialidad }$$ |
|$$ \textbf{Atributos}$$ | $$ \textbf{Descripcion}$$ | 
|-------|------------|
| $$ Id\:Especialidad$$     |   $$INT \:NOT\: NULL\: PRIMARY \:KEY\: AUTO\:INCREMENT$$         | 
| $$ Especialidad$$     | $$VARCHAR(50) \:NOT \:NULL  $$         | 


_Esta tabla contiene las diferentes prestaciones que proveen los distintos centros médicos._


  

| $$ \textbf{Tabla: Medico }$$ |
|$$ \textbf{Atributos}$$ | $$ \textbf{Descripcion}$$ | 
|-------|------------|
| $$ Id\:Medico$$     |   $$INT \:NOT\: NULL\: PRIMARY \:KEY\: AUTO\:INCREMENT$$         | 
| $$ Nombre$$     | $$VARCHAR(50) \:NOT \:NULL  $$         |
| $$ Apellido$$     | $$VARCHAR(50) \:NOT \:NULL  $$         | 
| $$ Fecha\:Nacimiento$$     | $$DATE \:NOT \:NULL$$        | 
| $$ Domicilio$$     | $$VARCHAR(50) \:NOT \:NULL  $$            | 
| $$ Telefono$$     | $$INT \:NOT\: NULL  $$            | 

_Esta tabla contiene los datos de los médicos que prestan su servicio a distintos centros médicos._



| $$ \textbf{Tabla: Plan Familiar }$$ |
|$$ \textbf{Atributos}$$ | $$ \textbf{Descripcion}$$ | 
|-------|------------|
| $$ Id\:Plan\:Familiar$$     |   $$INT \:NOT\: NULL\: PRIMARY \:KEY\: AUTO\:INCREMENT$$         | 
| $$ Tipo$$     | $$VARCHAR(50) \:NOT \:NULL  $$         |
| $$ Fecha\:Alta$$     | $$DATE \:NOT \:NULL $$         | 
| $$ Total\:Consultas$$     | $$INT \:NOT \:NULL  $$         | 





| $$ \textbf{Tabla: Turnos }$$ |
|$$ \textbf{Atributos}$$ | $$ \textbf{Descripcion}$$ | 
|-------|------------|
| $$ Id\:Turno$$     |   $$INT \:NOT\: NULL\: PRIMARY \:KEY\: AUTO\:INCREMENT$$         | 
| $$ Consulta$$     | $$VARCHAR(50) \:NOT \:NULL  $$         |
| $$ Diagnostico$$     | $$VARCHAR(50) \:NOT \:NULL  $$         |
| $$ Fecha$$     | $$DATE \:NOT \:NULL $$         | 



_Esta tabla conecta el medico y el paciente, donde podemos ver la consulta, la fecha y el diagnostico. Cada turno tiene un Id._



| $$ \textbf{Tabla: Centro Medico }$$ |
|$$ \textbf{Atributos}$$ | $$ \textbf{Descripcion}$$ | 
|-------|------------|
| $$ Id\:Centro$$     |   $$INT \:NOT\: NULL\: PRIMARY \:KEY\: AUTO\:INCREMENT$$         | 
| $$ Nombre$$     | $$VARCHAR(50) \:NOT \:NULL  $$         |
| $$ Dirección$$     | $$VARCHAR(50) \:NOT \:NULL  $$         | 
| $$ Teléfono$$     | $$INT \:NOT \:NULL$$        | 
| $$ Id\: Medico$$     | $$INT \:NOT\: NULL\: FOREIGN \:KEY $$            | 
| $$ Id\: Especialidad$$     | $$INT \:NOT\: NULL\: FOREIGN \:KEY $$            | 
| $$ Id\: Afiliado$$     | $$INT \:NOT\: NULL\: FOREIGN \:KEY $$            | 
| $$ Id\: Turno$$     | $$INT \:NOT\: NULL\: FOREIGN \:KEY $$            | 
| $$ Id\:Plan\:Familiar$$     |   $$INT \:NOT\: NULL\: FOREIGN \:KEY $$         | 

_Esta tabla contiene los distintos centros médicos de la empresa de Medicina Prepaga, se conecta con todas las tablas._


# 3 - Diagrama Entidad de Relacion

![](DER.png)

![](REVERSE.png)

# 4 - Codigo MySql desde Python


[Github Codigo](https://github.com/MGaloto/mysql_creando_database/blob/main/database.py)


# 4 - Incersion de Datos


**_Metodologia utilizada:_**

Los valores en cada una de las tablas se insertaron desde archivos .csv.

Los archivos son los siguientes:



![Archivos .csv](imagenes/archivos.png)

  
_Cada una de las tablas contiene 10 observaciones_


_Ejemplo tabla afiliados:_


![.csv](imagenes/afiliado.png)


A continuación se adjuntan scripts de los pasos para importar los datos y MySql final:

![MySql](imagenes/import.png){width=70%}


![Import](imagenes/script_medico.png){width=70%}



![Tablas](imagenes/base_datos.png)


# 5 - Vistas



**_¿Como seleccionar el mejor modelo?_**


<ul>

_1) Escoger el modelo_

_2) Dividir los datos de entrenamiento y de prueba_

_3) Ajustar el modelo a los datos de entrenamiento_

_4) Evaluar el modelo en los datos de prueba_

_5) Re-Ajustar el modelo con todos los datos_

_6) Predecir los datos futuros_


</ul>



